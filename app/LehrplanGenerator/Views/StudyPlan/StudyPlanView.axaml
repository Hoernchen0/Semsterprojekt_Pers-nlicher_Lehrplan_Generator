<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:LehrplanGenerator.ViewModels"
             x:Class="LehrplanGenerator.Views.StudyPlan.StudyPlanView"
             x:DataType="vm:StudyPlanViewModel">

<ScrollViewer VerticalScrollBarVisibility="Auto">

  <StackPanel Margin="20" Spacing="10">

    <TextBlock Text="{Binding Topic}" FontSize="24" FontWeight="Bold" Margin="0,0,0,15"/>

      <ItemsControl ItemsSource="{Binding Days}">
        <ItemsControl.ItemTemplate>
          <DataTemplate x:DataType="vm:DayPlanViewModel">
            <Expander Header="{Binding DisplayDate}" Margin="0,0,0,5">
              <ItemsControl ItemsSource="{Binding Tasks}">
                <ItemsControl.ItemTemplate>
                  <DataTemplate x:DataType="vm:TaskItemViewModel">
                    <Border Margin="0,0,0,5" Padding="5" BorderThickness="1" BorderBrush="Gray" CornerRadius="4">
                      <StackPanel>
                        <TextBlock Text="{Binding Title}" FontWeight="Bold"/>

                        <TextBlock FontStyle="Italic">
                          <TextBlock.Text>
                          <MultiBinding StringFormat="{}{0} - {1}">
                            <Binding Path="StartTime"/>
                            <Binding Path="EndTime"/>
                          </MultiBinding>
                        </TextBlock.Text>
                        </TextBlock>
                      <TextBlock Text="{Binding Description}" TextWrapping="Wrap"/>
                    </StackPanel>
                  </Border>
                </DataTemplate>
              </ItemsControl.ItemTemplate>
            </ItemsControl>
          </Expander>
        </DataTemplate>
      </ItemsControl.ItemTemplate>
    </ItemsControl>
  </StackPanel>
</ScrollViewer>
</UserControl>