<UserControl
    x:Class="LehrplanGenerator.Views.Auth.LoginView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:LehrplanGenerator.ViewModels.Auth"
    x:DataType="vm:LoginViewModel">

    <UserControl.Styles>
        <Style Selector="Button.auth-button:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#3E8F45" />
            <Setter Property="Foreground" Value="White" />
        </Style>
    </UserControl.Styles>

    <Grid>

        <!--  ================= DESKTOP =================  -->
        <Grid x:Name="DesktopLayout">

            <Image Source="avares://LehrplanGenerator/Assets/Images/test.jpg" Stretch="UniformToFill" />

            <ScrollViewer>
                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">

                    <Border
                        Width="440"
                        Padding="40"
                        Background="{DynamicResource BgSecondary}"
                        CornerRadius="24">

                        <StackPanel Spacing="24">

                            <!--  Header  -->
                            <TextBlock
                                FontSize="28"
                                FontWeight="Bold"
                                Text="Willkommen zurück"
                                TextAlignment="Center" />

                            <!--  Form  -->
                            <TextBox
                                x:Name="DesktopUsernameBox"
                                Text="{Binding Username}"
                                Watermark="Benutzername" />

                            <TextBox
                                x:Name="DesktopPasswordBox"
                                PasswordChar="*"
                                Text="{Binding Password}"
                                Watermark="Passwort" />

                            <!--  ERROR  -->
                            <TextBlock
                                FontSize="13"
                                Foreground="{DynamicResource TextError}"
                                Text="{Binding Result}"
                                TextWrapping="Wrap" />

                            <!--  Primary  -->
                            <Button
                                Height="44"
                                Background="{DynamicResource AccentPrimary}"
                                Classes="auth-button"
                                Command="{Binding LoginCommand}"
                                Content="Anmelden"
                                CornerRadius="8"
                                Foreground="White" />

                            <!--  Secondary / Navigation  -->
                            <StackPanel
                                HorizontalAlignment="Center"
                                Orientation="Horizontal"
                                Spacing="4">

                                <TextBlock
                                    FontSize="13"
                                    Foreground="{DynamicResource TextSecondary}"
                                    Text="Noch kein Konto?" />

                                <Button
                                    MinHeight="0"
                                    Padding="0"
                                    Classes="link"
                                    Command="{Binding NavigateToRegisterCommand}"
                                    Content="Jetzt registrieren"
                                    FontSize="13" />
                            </StackPanel>

                        </StackPanel>
                    </Border>
                </Grid>
            </ScrollViewer>
        </Grid>

        <!--  ================= MOBILE =================  -->
        <Grid x:Name="MobileLayout" IsVisible="False">

            <Image
                IsHitTestVisible="False"
                Source="avares://LehrplanGenerator/Assets/Images/test.jpg"
                Stretch="UniformToFill" />

            <Border Background="#88000000" IsHitTestVisible="False" />

            <Grid RowDefinitions="*,Auto">

                <Border
                    x:Name="MobileSheet"
                    Grid.Row="1"
                    Padding="24"
                    Background="{DynamicResource BgSecondary}"
                    CornerRadius="24,24,0,0">

                    <Border.RenderTransform>
                        <TranslateTransform />
                    </Border.RenderTransform>

                    <StackPanel Spacing="16">

                        <TextBlock
                            FontSize="22"
                            FontWeight="Bold"
                            Text="Willkommen zurück" />

                        <TextBox
                            x:Name="MobileUsernameBox"
                            Text="{Binding Username}"
                            Watermark="Benutzername" />

                        <TextBox
                            x:Name="MobilePasswordBox"
                            PasswordChar="*"
                            Text="{Binding Password}"
                            Watermark="Passwort" />

                        <!--  ERROR  -->
                        <TextBlock
                            FontSize="13"
                            Foreground="{DynamicResource TextError}"
                            Text="{Binding Result}"
                            TextWrapping="Wrap" />

                        <Button
                            Height="48"
                            Background="{DynamicResource AccentPrimary}"
                            Classes="auth-button"
                            Command="{Binding LoginCommand}"
                            Content="Anmelden"
                            CornerRadius="8"
                            Foreground="White" />

                        <!--  Navigation  -->
                        <StackPanel
                            HorizontalAlignment="Center"
                            Orientation="Horizontal"
                            Spacing="4">

                            <TextBlock
                                FontSize="13"
                                Foreground="{DynamicResource TextSecondary}"
                                Text="Noch kein Konto?" />

                            <Button
                                MinHeight="0"
                                Padding="0"
                                Classes="link"
                                Command="{Binding NavigateToRegisterCommand}"
                                Content="Jetzt registrieren"
                                FontSize="13" />
                        </StackPanel>

                    </StackPanel>
                </Border>
            </Grid>
        </Grid>

    </Grid>
</UserControl>
