<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="LernApp.Views.LoginWindow"
        Title="LernApp - Anmeldung" Width="400" Height="500"
        WindowStartupLocation="CenterScreen"
        CanResize="False">
    <Grid RowDefinitions="*,Auto" Background="White">
        <!-- Content -->
        <StackPanel Grid.Row="0" Spacing="20" Margin="40" VerticalAlignment="Center">
            <!-- Header -->
            <StackPanel Spacing="10">
                <TextBlock Text="ðŸ“š LernApp" FontSize="28" FontWeight="Bold" Foreground="#1E88E5" HorizontalAlignment="Center"/>
                <TextBlock Text="PersÃ¶nlicher Lehrplan Generator" FontSize="14" Foreground="Gray" HorizontalAlignment="Center"/>
            </StackPanel>

            <!-- Mode Selection -->
            <StackPanel Orientation="Horizontal" Spacing="10" HorizontalAlignment="Center">
                <Button Content="Anmelden" 
                        IsEnabled="{Binding !ShowRegister}" 
                        Command="{Binding ToggleRegisterCommand}"
                        Padding="20,8"/>
                <Button Content="Registrieren" 
                        IsEnabled="{Binding ShowRegister}" 
                        Command="{Binding ToggleRegisterCommand}"
                        Padding="20,8"/>
            </StackPanel>

            <!-- Login Form -->
            <StackPanel Spacing="15" IsVisible="{Binding !ShowRegister}">
                <TextBlock Text="Mit Ihrer Email anmelden" FontSize="16" FontWeight="Bold"/>
                
                <StackPanel Spacing="5">
                    <TextBlock Text="Email:" FontWeight="SemiBold"/>
                    <TextBox Text="{Binding Email}" Watermark="benutzername@example.com" Height="40" Padding="10"/>
                </StackPanel>

                <StackPanel Spacing="5">
                    <TextBlock Text="Passwort:" FontWeight="SemiBold"/>
                    <TextBox Text="{Binding Password}" PasswordChar="â€¢" Watermark="Passwort eingeben" Height="40" Padding="10"/>
                </StackPanel>

                <!-- Error Message -->
                <TextBlock Text="{Binding ErrorMessage}" Foreground="Red" TextWrapping="Wrap" IsVisible="{Binding ErrorMessage.Length}"/>

                <!-- Login Button -->
                <Button Content="Anmelden" 
                        Name="LoginButton"
                        IsEnabled="{Binding !IsLoading}"
                        Height="45" 
                        FontSize="14"
                        Background="#1E88E5"
                        Foreground="White"
                        FontWeight="Bold"/>

                <!-- Loading Indicator -->
                <ProgressBar IsIndeterminate="True" Height="4" IsVisible="{Binding IsLoading}"/>
            </StackPanel>

            <!-- Register Form -->
            <StackPanel Spacing="15" IsVisible="{Binding ShowRegister}">
                <TextBlock Text="Neues Konto erstellen" FontSize="16" FontWeight="Bold"/>
                
                <StackPanel Spacing="5">
                    <TextBlock Text="Email:" FontWeight="SemiBold"/>
                    <TextBox Text="{Binding Email}" Watermark="benutzername@example.com" Height="40" Padding="10"/>
                </StackPanel>

                <StackPanel Spacing="5">
                    <TextBlock Text="Passwort (min. 6 Zeichen):" FontWeight="SemiBold"/>
                    <TextBox Text="{Binding Password}" PasswordChar="â€¢" Watermark="Passwort eingeben" Height="40" Padding="10"/>
                </StackPanel>

                <!-- Error/Success Message -->
                <TextBlock Text="{Binding ErrorMessage}" 
                           Foreground="Red" 
                           TextWrapping="Wrap" 
                           IsVisible="{Binding ErrorMessage.Length}"/>

                <!-- Register Button -->
                <Button Content="Registrieren" 
                        Name="RegisterButton"
                        IsEnabled="{Binding !IsLoading}"
                        Height="45" 
                        FontSize="14"
                        Background="#43A047"
                        Foreground="White"
                        FontWeight="Bold"/>

                <!-- Loading Indicator -->
                <ProgressBar IsIndeterminate="True" Height="4" IsVisible="{Binding IsLoading}"/>
            </StackPanel>
        </StackPanel>

        <!-- Footer -->
        <TextBlock Grid.Row="1" Text="Sicher und privat â€¢ Keine Datenweitergabe" 
                   Foreground="Gray" FontSize="11" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,10"/>
    </Grid>
</Window>
